<!DOCTYPE HTML>
<html>
<!-- Paul C. Laibach
   2014.10.02
   Introduction to Programming
   Project 2 -->

<head>
   <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
   <meta name="author" content="Paul C. Laibach" />
   <title>Project 2</title>

   <style type="text/css">
      h1 {font-family:'lucida handwriting', 'comic sans ms', cursive; color:purple;}
      h2 {font-family:he_terminal, monospace;}
      .footer {font-style:italic;}
   </style>

   <script type="text/javascript">

      var currentLocation = "Room1";
      var hasVisitedRoom1 = true;
      var hasVisitedRoom2 = false;
      var hasVisitedRoom3 = false;
      var hasVisitedRoom4 = false;
      var hasVisitedRoom5 = false;
      var totalScore = 0;

      function updateHistory(message, userInput) {
         var historyWindow = document.getElementById("taHistory");
         historyWindow.value = message + "\n" + userInput + "\n\n" + taHistory.value;
         var statusWindow = document.getElementById("taStatus");
         statusWindow.value = "Score: " + totalScore + "\n" + "Current Location: " + currentLocation;
      }

      function btnGoNorth() {
         var userInput = "[Clicked North]";

            // Begin conditionals for function btnGoNorth
            if (currentLocation === "Room1") {
               var message = "You have entered Room2.";
               if (hasVisitedRoom2 === false) {
                  totalScore = totalScore + 5;
               }
               hasVisitedRoom2 = true;
               currentLocation = "Room2";
               updateHistory (message, userInput);
            }  else {
                  if (currentLocation === "Room2") {
                     var message = "You have entered Room3.";
                     if (hasVisitedRoom3 === false) {
                        totalScore = totalScore + 5;
                     }
                     hasVisitedRoom3 = true;
                     currentLocation = "Room3";
                     updateHistory (message, userInput);
                  }  else {
                        if (currentLocation === "Room3") {
                           var message = "You have fallen a long distance down into Room4. Welcome to THE ABYSS! There is no way out :-O (Or... is there?)";
                           if (hasVisitedRoom4 === false) {
                              totalScore = totalScore + 5;
                           }
                           hasVisitedRoom4 = true;
                           currentLocation = "Room4";
                           updateHistory (message, userInput);
                        }  else {
                              if (currentLocation === "Room4") {
                                 var message = "Nope... You're in Room4, THE ABYSS! Nothing but smooth, solid, and very tall wall in that direction.";
                                 updateHistory (message, userInput);
                              }  else {
                                    if (currentLocation === "Room5") {
                                       var message = "Erm... sorry. No place to go in that direction.";
                                       updateHistory (message, userInput);
                                    }
                                 }
                           }
                     }
               }
      }

      function btnGoSouth() {
         var userInput = "[Clicked South]";

            // Begin conditionals for function btnGoSouth
            if (currentLocation === "Room1") {
               var message = "Sorry, the door locked behind you when you stepped in. There is a keyhole, but you don't have any keys.";
               updateHistory (message, userInput);
            }  else {
                  if (currentLocation === "Room2") {
                     var message = "You have returned to Room1. This isn't getting you anywhere.";
                     currentLocation = "Room1";
                     updateHistory (message, userInput);
                  }  else {
                        if (currentLocation === "Room3") {
                           var message = "You have returned to Room2. Boring.";
                           currentLocation = "Room2";
                           updateHistory (message, userInput);
                        }  else {
                              if (currentLocation === "Room4") {
                                 var message = "Nope... You're in Room4, THE ABYSS! Nothing but smooth, solid, and very tall wall in that direction.";
                                 updateHistory (message, userInput);
                              }  else {
                                    if (currentLocation === "Room5") {
                                       var message = "Erm... sorry. No place to go in that direction.";
                                       updateHistory (message, userInput);
                                    }
                                 }
                           }
                     }
               }
      }

      function btnGoEast() {
         var userInput = "[Clicked East]";
            var message = "You just went East.";
         //
         updateHistory (message, userInput);
      }

      function btnGoEast() {
         var userInput = "[Clicked East]";
            var message = "You just went East.";
         //
         updateHistory (message, userInput);
      }
      
      function btnGo_click() {
         var userInput = "[Entered any text command]";
            var message = "Sorry, I don't understand... Just use the buttons for now!";
         updateHistory (message, userInput);
      }

   </script>

</head>
<body>

   <h1> Victoria's Secret </h1>
   <h2 style="color:pink"> A Journey of Death and Lingerie, by Paul Laibach </h2>

   <textarea rows="2" cols="48" id="taStatus"></textarea>
   <br>

   <br>
      <input type="button"
             value="West" 
             onclick="btnGoWest();" />

      <input type="button"
             value="North" 
             onclick="btnGoNorth();" />

      <input type="button"
             value="South" 
             onclick="btnGoSouth();" />

      <input type="button"
             value="East" 
             onclick="btnGoEast();" />
   <br>
      <input type="text"
             id = "txtCommand"
             name="txtCommand">
             
      <input type="button"
             value="Go" 
             onclick="btnGo_click();" />
   <br>

   <textarea rows="12" cols="48" id="taHistory">You have just entered an unmarked door at the south end of a nondescript building. The door swings gently shut behind you and latches with a slight, yet somehow ominous "click."</textarea>
   <br>
   <br>

   <!-- mailto: link to send you e-mail -->
   <a href="mailto:marist@laibach.net">Email me!</a>
   <br>
   <br>
   
   <p class="footer">
      <a href="http://validator.w3.org/#validate_by_input">Validate as HTML5</a>
      <br>
      <a href="http://jigsaw.w3.org/css-validator/#validate_by_input">Validate CSS</a>
   </p>

   <!--
   <p>
      <a href="http://jigsaw.w3.org/css-validator/check/referer">
         <img style="border:0;width:88px;height:31px"
            src="http://jigsaw.w3.org/css-validator/images/vcss"
            alt="Valid CSS!" />
      </a>
   </p>
   -->

</body>

</html>