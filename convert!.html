<!DOCTYPE html>

<html>

<!-- Paul C. Laibach
   toString and parseInt Demonstration v0.2
   Introduction to Programming
   Alan Labouseur
   Marist College
-->

<!-- To Do
   Clear results as soon as any input field is dirty.
   Use table style formatting for input and results.
   Check into posible text to integer conversion.
   Check into regex http://stackoverflow.com/questions/8923119/javascript-isnan-function
-->
   <head>

      <title>
         toString and parseInt Demonstration
      </title>

      <style type="text/css">
         h1 {font-family:'comic sans ms',cursive; color:blue;}
         h2 {font-family:tahoma,verdana,sans-serif;}
         h3 {font-family:'lucida console',monaco,monospace;}
         h4 {font-family:'lucida console',monaco,monospace; font-size:110%;}
         textarea {resize:none; outline:none; text-align:center;}
         input {text-align:center;}
      </style>

      <script type="text/javascript">

         // Resources:
            // http://www.w3schools.com/jsref/jsref_tostring_number.asp
            // http://www.w3schools.com/jsref/jsref_parseint.asp

         // Do a complete conversion even against same type input to show parsed input value as used.
         function convertFromDecimal() {
            var decimalResult = parseInt(document.getElementById("userInputDecimal").value);
            if (isNaN(decimalResult)) {
//               unableToParseInput();
               document.getElementById("userInputDecimal").style.backgroundColor = "red";
            }  else {
                  var binaryResult = decimalResult.toString(2);
                  var hexResult = decimalResult.toString(16);
                  var hexResultUpperCase = hexResult.toUpperCase();
                  if (document.getElementById("userInputDecimal").value != decimalResult) {
                     document.getElementById("userInputDecimal").style.backgroundColor = "yellow";
                  }
                  updateResults(decimalResult,binaryResult,hexResultUpperCase);
               }
         }
         function convertFromBinary() {
            var userInputBinary = parseInt(document.getElementById("userInputBinary").value);
            var decimalResult = parseInt(userInputBinary,2);
            if (isNaN(decimalResult)) {
//               unableToParseInput();
               document.getElementById("userInputBinary").style.backgroundColor = "red";
            }  else {
                  var binaryResult = decimalResult.toString(2);
                  var hexResult = decimalResult.toString(16);
                  var hexResultUpperCase = hexResult.toUpperCase();
                  if (document.getElementById("userInputBinary").value != binaryResult) {
                     document.getElementById("userInputBinary").style.backgroundColor = "yellow";
                  }
                  updateResults(decimalResult,binaryResult,hexResultUpperCase);
               }
         }
         function convertFromHex() {
            var userInputHex = document.getElementById("userInputHex").value;
            var decimalResult = parseInt(userInputHex,16);
            if (isNaN(decimalResult)) {
//               unableToParseInput();
               document.getElementById("userInputHex").style.backgroundColor = "red";
            }  else {
                  var binaryResult = decimalResult.toString(2);
                  var hexResult = decimalResult.toString(16);
                  var hexResultUpperCase = hexResult.toUpperCase();
                  if (document.getElementById("userInputHex").value != hexResult) {
                     document.getElementById("userInputHex").style.backgroundColor = "yellow";
                  }
                  updateResults(decimalResult,binaryResult,hexResultUpperCase);
               }
         }

//         function unableToParseInput() {
//            document.getElementById("taDisplayDecimal").value = "W.";
//            document.getElementById("taDisplayBinary").value = "T.";
//            document.getElementById("taDisplayHex").value = "F.";
//         }

         // Show results of converted user input
         function updateResults(decimalString,binaryString,hexString) {
            document.getElementById("taDisplayDecimal").value = decimalString;
            document.getElementById("taDisplayBinary").value = binaryString;
            document.getElementById("taDisplayHex").value = hexString;
         }

         // Upon clicking any user input field, clear any dirty text input from other input fields.
         function clearAllInputsExceptDecimal() {
            document.getElementById("userInputBinary").value = null;
            document.getElementById("userInputHex").value = null;
            clearAllResults();
         }
         function clearAllInputsExceptBinary() {
            document.getElementById("userInputDecimal").value = null;
            document.getElementById("userInputHex").value = null;
            clearAllResults();
         }
         function clearAllInputsExceptHex() {
            document.getElementById("userInputDecimal").value = null;
            document.getElementById("userInputBinary").value = null;
            clearAllResults();
         }

         // Clear all prior results when any input field is clicked
         function clearAllResults() {
            document.getElementById("taDisplayDecimal").value = null;
            document.getElementById("taDisplayBinary").value = null;
            document.getElementById("taDisplayHex").value = null;
         }
         
      </script>

   </head>

   <body>

      <h1>
         Fun! with parseInt and toString
      </h1>

      <h2>
         <span style="font-family:'brush script mt',cursive; font-size: 175%";>By </span>plaibach
      </h2>

      <h3>
         Enter a decimal, binary, or hexadecimal<br>
         value for conversion...
      </h3>

      <h4>
         <br>
         <input type="text"
                id = "userInputDecimal"
                size="16"
                placeholder="decimal"
                onClick="clearAllInputsExceptDecimal();"
                onkeypress="if (event.keyCode == 13) convertFromDecimal();" />
         &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Decimal: 
         <textarea id="taDisplayDecimal" rows="1" cols="16" readonly></textarea>
         <br>
         <br>
         <input type="text"
                id = "userInputBinary"
                size="16"
                placeholder="binary"
                onClick="clearAllInputsExceptBinary();"
                onkeypress="if (event.keyCode == 13) convertFromBinary();" />
         &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Binary: 
         <textarea id="taDisplayBinary" rows="1" cols="16" readonly></textarea>
         <br>
         <br>
         <input type="text"
                id = "userInputHex"
                size="16"
                placeholder="hexadecimal"
                onClick="clearAllInputsExceptHex();"
                onkeypress="if (event.keyCode == 13) convertFromHex();" />
         &nbsp;&nbsp;Hexadecimal: 
         <textarea id="taDisplayHex" rows="1" cols="16" readonly></textarea>
         <br>
         <br>
      </h4>

      <h3>
         ...then press enter to process results.
      </h3>

</html>